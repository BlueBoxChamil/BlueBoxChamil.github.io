# 509录音AEC+NR

## 功能
 在509上配合网页上位机录音.录音经过aec+nr

## 时间
20241104

## 开发板
FR509开发板均可

## 固件
      Project_burn20241104_aecnr_record.bin

## 版本
V1：工程配合上位机进行录音

## 工程

MCU:

```
FR309x_SDK_v0.1.6_20241104_local_aec_record
```

DSP: 

```
 工程已经有了
```




## 使用方法

1. 将工程固件下载到509开发板中，使用at指令AT#DH”来擦除flash原来的文件，然后再使用load_all_texin.exe下载好文件，复位后即可正常使用

2. 具体使用网页上位机流程如下

3. 选择串口PD01通过串口工具连接到电脑，确保串口可以被电脑识别。

4. 双击"start"，启动控制台

   ![](document/img/0.png)

5. 打开谷歌浏览器，进入网页http://localhost:8080/。

   ![](document/img/1.png)

6. 左侧选择文件，为要录音的txt文件。输入项目英文名，输入录音ID(从0401开始)，性别，年龄，籍贯。

7. 点击获取所有串口，在下方的端口COM中选择，并在后边写好距离。

8. 点击**开始**开始录音。

9. 录音结束，音频存放在D:\wav中，打包该文件夹即可。

   ![](document/img/2.png)

## 更新详情

### V1
1. 本工程只能录音，不支持其他at指令，只能配合上位机使用。
1. 通信协议为波特率921600，上位机发送“S”开始打印录音，发送“E”停止打印录音。
1. 无论是下载flash还是是录音上位机交互，都是使用PD01
1. mic刚刚启动时会有一段不稳定的波形，因此配置mic启动500ms之后再打印录音数据。

## 存在问题
  1. 暂无



